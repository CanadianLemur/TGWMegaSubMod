MEX_civil_war = {
	countdown_to_revolution = {
		fire_only_once = yes
		allowed = {
			tag = MEX
		}
		available = {
			always = no
		}
		activation = {
			always = no
		}
		is_good = no
		selectable_mission = no
		days_mission_timeout = 120
		days_remove = 1
		timeout_effect = {
			custom_effect_tooltip=MSMMexicoCivilWarAvailableTooltip
			hidden_effect = {
				country_event = {
					id = MSMMexico.5
				}
			}
		}
		complete_effect ={
			hidden_effect = {
				country_event = {
					id = MSMMexico.5
				}
			}
		}
	}
	
	funnel_guns = {
		cost = 40
		available = {
			MEX = { has_country_flag = MEXFUNNELGUNS }
		}
		visible = {
			MEX = { has_country_flag = MEXFUNNELGUNS }
			tag = MEX
		}
		complete_effect = {
			add_equipment_to_stockpile = {
				type = infantry_equipment
				amount = 1000
				producer = USA
			}
		}
		days_remove = 5
		days_re_enable = 20
		fire_only_once = no
		ai_will_do = { factor = 10 }
	}
	
	support_from_landowners_sabotage_rebels = {
		cost = 50
		available = {
			MEX = { has_country_flag = MSMLANDOWNERSPLACATED }
		}
		visible = {
			MEX = { has_global_flag = MEX_support_diaz }
			tag = MEX
		}
		complete_effect = {
			MXB = { set_equipment_fraction = 0.5 }
		}
		
		days_remove = 5
		fire_only_once = yes
		ai_will_do = { factor = 10 }
	}
	support_from_landowners_acquire_guns = {
		cost = 30
		available = {
			MEX = { has_country_flag = MSMLANDOWNERSPLACATED }
		}
		visible = {
			MEX = { has_global_flag = MEX_support_diaz }
			tag = MEX
		}
		complete_effect = {
			MEX = {
				add_equipment_to_stockpile = {
					type = infantry_equipment
					amount = 4000
					producer = MEX
				}
			}
		}
		
		days_remove = 5
		days_re_enable = 20
		fire_only_once = no
		ai_will_do = { factor = 20 }
	}
}

MEX_concessions = {
	
	increase_agrarian_tensions = { ##Repression of Zapatistas
		fire_only_once = no
		allowed = {
			tag = MEX
			check_variable = {
				var = MEX.communist_tensions_amount
				value = 1
				compare = less_than
			}
		}
		available = {
			always = yes
		}
		is_good = yes
		
		days_remove = 20
		days_re_enable = 0
		
		complete_effect ={
			custom_effect_tooltip = MSMMexico_increase_agrarian_tensions
			add_to_variable={
				var = MEX.communist_tensions_amount
				value = 0.05
			}
			if={
				limit={
					check_variable = {
						var = MEX.communist_appeasement_amount
						value = 0
						compare = greater_than
					}
				}
				add_to_variable = {
					var = MEX.communist_appeasement_amount
					value = -0.025
				}
			}
		}
	}
	
	appeal_to_argrarians = { ##Appeal to Zapatistas
		fire_only_once = no
		allowed = {
			tag = MEX
			check_variable = {
				var = MEX.communist_appeasement_amount
				value = 1
				compare = less_than
			}
		}
		available = {
			always = yes
		}
		is_good = yes
		
		days_remove = 20
		days_re_enable = 0
		
		complete_effect ={
			custom_effect_tooltip = MSMMexico_decrease_agrarian_tensions
			add_to_variable={
				var = MEX.communist_appeasement_amount
				value = 0.05
			}
			if={
				limit={
					check_variable = {
						var = MEX.communist_tensions_amount
						value = 0
						compare = greater_than
					}
				}
				add_to_variable = {
					var = MEX.communist_tensions_amount
					value = -0.025
				}
			}
		}
	}
	
	increase_nationalist_tensions = { ##Repression of Villistas
		fire_only_once = no
		allowed = {
			tag = MEX
			check_variable = {
				var = MEX.nationalist_tensions_amount
				value = 1
				compare = less_than
			}
		}
		available = {
			always = yes
		}
		is_good = yes
		
		days_remove = 20
		days_re_enable = 0
		
		complete_effect ={
			custom_effect_tooltip = MSMMexico_nationalist_agrarian_tensions
			add_to_variable={
				var = MEX.nationalist_tensions_amount
				value = 0.05
			}
			if={
				limit={
					check_variable = {
						var = MEX.nationalist_appeasement_amount
						value = 0
						compare = greater_than
					}
				}
				add_to_variable = {
					var = MEX.nationalist_appeasement_amount
					value = -0.025
				}
			}
		}
	}
	
	appeal_to_nationalists = { ##Appeal to Villistas
		fire_only_once = no
		allowed = {
			tag = MEX
			check_variable = {
				var = MEX.nationalist_appeasement_amount
				value = 1
				compare = less_than
			}
		}
		available = {
			always = yes
		}
		is_good = yes
		
		days_remove = 20
		days_re_enable = 0
		
		complete_effect ={
			custom_effect_tooltip = MSMMexico_decrease_nationalist_tensions
			add_to_variable={
				var = MEX.nationalist_appeasement_amount
				value = 0.05
			}
			if={
				limit={
					check_variable = {
						var = MEX.nationalist_tensions_amount
						value = 0
						compare = greater_than
					}
				}
				add_to_variable = {
					var = MEX.nationalist_tensions_amount
					value = -0.025
				}
			}
		}
	}
	
	increase_constitutionalist_tensions = { ##Repression of Constitutionalists
		fire_only_once = no
		allowed = {
			tag = MEX
			check_variable = {
				var = MEX.constitutionalist_tensions_amount
				value = 1
				compare = less_than
			}
		}
		available = {
			always = yes
		}
		is_good = yes
		
		days_remove = 20
		days_re_enable = 0
		
		complete_effect ={
			custom_effect_tooltip = MSMMexico_increase_constitutionalist_tensions
			add_to_variable={
				var = MEX.constitutionalist_tensions_amount
				value = 0.05
			}
			if={
				limit={
					check_variable = {
						var = MEX.constitutionalist_appeasement_amount
						value = 0
						compare = greater_than
					}
				}
				add_to_variable = {
					var = MEX.constitutionalist_appeasement_amount
					value = -0.025
				}
			}
		}
	}
	
	appeal_to_constitutionalists = { ##Appeal to Constitutionalists
		fire_only_once = no
		allowed = {
			tag = MEX
			check_variable = {
				var = MEX.constitutionalist_appeasement_amount
				value = 1
				compare = less_than
			}
		}
		available = {
			always = yes
		}
		is_good = yes
		
		days_remove = 20
		days_re_enable = 0
		
		complete_effect ={
			custom_effect_tooltip = MSMMexico_decrease_constitutionalist_tensions
			add_to_variable={
				var = MEX.constitutionalist_appeasement_amount
				value = 0.05
			}
			if={
				limit={
					check_variable = {
						var = MEX.constitutionalist_tensions_amount
						value = 0
						compare = greater_than
					}
				}
				add_to_variable = {
					var = MEX.constitutionalist_tensions_amount
					value = -0.025
				}
			}
		}
	}
}